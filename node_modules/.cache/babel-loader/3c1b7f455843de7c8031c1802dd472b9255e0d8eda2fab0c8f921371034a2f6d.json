{"ast":null,"code":"import { API_ENDPOINTS, DEPARTMENTS, REQUEST_TYPES } from '../utils/constants';\nexport const fetchIntegratedData = async () => {\n  try {\n    const [requestsResponse, trackingResponse] = await Promise.all([fetch(`${API_ENDPOINTS.CSR}?$limit=2000&$order=created_date DESC`).catch(() => null), fetch(`${API_ENDPOINTS.TRACKING}?$limit=1000&$order=updated_at DESC`).catch(() => null)]);\n    let requests = [];\n    let tracking = [];\n    if (requestsResponse && requestsResponse.ok) {\n      requests = await requestsResponse.json();\n    }\n    if (trackingResponse && trackingResponse.ok) {\n      tracking = await trackingResponse.json();\n    }\n    if (requests.length === 0) {\n      throw new Error('Using sample data');\n    }\n    return {\n      requests,\n      tracking,\n      error: null\n    };\n  } catch (err) {\n    const sampleData = generateSampleData();\n    return {\n      ...sampleData,\n      error: err.message\n    };\n  }\n};\nexport const generateSampleData = () => {\n  const requests = [];\n  const tracking = [];\n  for (let i = 0; i < 200; i++) {\n    const requestType = REQUEST_TYPES[Math.floor(Math.random() * REQUEST_TYPES.length)];\n    const department = DEPARTMENTS[Math.floor(Math.random() * DEPARTMENTS.length)];\n    const createdDate = new Date(2025, 10, 6 - Math.floor(Math.random() * 90));\n    const daysOpen = Math.floor(Math.random() * 30);\n    const closedDate = Math.random() > 0.4 ? new Date(createdDate.getTime() + daysOpen * 24 * 60 * 60 * 1000) : null;\n    const status = closedDate ? 'Closed' : Math.random() > 0.5 ? 'In Progress' : 'Open';\n    const request = {\n      service_request_number: `25-${10000 + i}`,\n      service_request_type: requestType.type,\n      city_department: department,\n      status: status,\n      created_date: createdDate.toISOString(),\n      closed_date: closedDate === null || closedDate === void 0 ? void 0 : closedDate.toISOString(),\n      days_to_resolve: closedDate ? daysOpen : null,\n      expected_resolution_days: requestType.targetDays,\n      actual_resolution_days: closedDate ? daysOpen : null,\n      sla_met: closedDate ? daysOpen <= requestType.targetDays : null,\n      location: `${Math.floor(Math.random() * 9000 + 1000)} Example St, Seattle, WA`,\n      council_district: `District ${Math.floor(Math.random() * 7 + 1)}`\n    };\n    requests.push(request);\n    const statusUpdates = [{\n      status: 'Request Received',\n      days: 0\n    }, {\n      status: 'Routed to Department',\n      days: 1\n    }, {\n      status: 'Assigned to Staff',\n      days: 2\n    }, {\n      status: 'Investigation Started',\n      days: 3\n    }, {\n      status: 'Work in Progress',\n      days: 5\n    }];\n    statusUpdates.forEach(update => {\n      if (Math.random() > 0.2) {\n        tracking.push({\n          service_request_number: request.service_request_number,\n          status: update.status,\n          updated_at: new Date(createdDate.getTime() + update.days * 24 * 60 * 60 * 1000).toISOString(),\n          department: department\n        });\n      }\n    });\n  }\n  return {\n    requests,\n    tracking\n  };\n};","map":{"version":3,"names":["API_ENDPOINTS","DEPARTMENTS","REQUEST_TYPES","fetchIntegratedData","requestsResponse","trackingResponse","Promise","all","fetch","CSR","catch","TRACKING","requests","tracking","ok","json","length","Error","error","err","sampleData","generateSampleData","message","i","requestType","Math","floor","random","department","createdDate","Date","daysOpen","closedDate","getTime","status","request","service_request_number","service_request_type","type","city_department","created_date","toISOString","closed_date","days_to_resolve","expected_resolution_days","targetDays","actual_resolution_days","sla_met","location","council_district","push","statusUpdates","days","forEach","update","updated_at"],"sources":["/Users/richapadhariya/Documents/pact-athon-winner/src/services/dataService.js"],"sourcesContent":["import { API_ENDPOINTS, DEPARTMENTS, REQUEST_TYPES } from '../utils/constants';\n\nexport const fetchIntegratedData = async () => {\n  try {\n    const [requestsResponse, trackingResponse] = await Promise.all([\n      fetch(`${API_ENDPOINTS.CSR}?$limit=2000&$order=created_date DESC`).catch(() => null),\n      fetch(`${API_ENDPOINTS.TRACKING}?$limit=1000&$order=updated_at DESC`).catch(() => null)\n    ]);\n\n    let requests = [];\n    let tracking = [];\n\n    if (requestsResponse && requestsResponse.ok) {\n      requests = await requestsResponse.json();\n    }\n    if (trackingResponse && trackingResponse.ok) {\n      tracking = await trackingResponse.json();\n    }\n\n    if (requests.length === 0) {\n      throw new Error('Using sample data');\n    }\n\n    return { requests, tracking, error: null };\n  } catch (err) {\n    const sampleData = generateSampleData();\n    return { ...sampleData, error: err.message };\n  }\n};\n\nexport const generateSampleData = () => {\n  const requests = [];\n  const tracking = [];\n  \n  for (let i = 0; i < 200; i++) {\n    const requestType = REQUEST_TYPES[Math.floor(Math.random() * REQUEST_TYPES.length)];\n    const department = DEPARTMENTS[Math.floor(Math.random() * DEPARTMENTS.length)];\n    const createdDate = new Date(2025, 10, 6 - Math.floor(Math.random() * 90));\n    const daysOpen = Math.floor(Math.random() * 30);\n    const closedDate = Math.random() > 0.4 ? new Date(createdDate.getTime() + daysOpen * 24 * 60 * 60 * 1000) : null;\n    const status = closedDate ? 'Closed' : (Math.random() > 0.5 ? 'In Progress' : 'Open');\n    \n    const request = {\n      service_request_number: `25-${10000 + i}`,\n      service_request_type: requestType.type,\n      city_department: department,\n      status: status,\n      created_date: createdDate.toISOString(),\n      closed_date: closedDate?.toISOString(),\n      days_to_resolve: closedDate ? daysOpen : null,\n      expected_resolution_days: requestType.targetDays,\n      actual_resolution_days: closedDate ? daysOpen : null,\n      sla_met: closedDate ? (daysOpen <= requestType.targetDays) : null,\n      location: `${Math.floor(Math.random() * 9000 + 1000)} Example St, Seattle, WA`,\n      council_district: `District ${Math.floor(Math.random() * 7 + 1)}`\n    };\n    \n    requests.push(request);\n\n    const statusUpdates = [\n      { status: 'Request Received', days: 0 },\n      { status: 'Routed to Department', days: 1 },\n      { status: 'Assigned to Staff', days: 2 },\n      { status: 'Investigation Started', days: 3 },\n      { status: 'Work in Progress', days: 5 }\n    ];\n\n    statusUpdates.forEach(update => {\n      if (Math.random() > 0.2) {\n        tracking.push({\n          service_request_number: request.service_request_number,\n          status: update.status,\n          updated_at: new Date(createdDate.getTime() + update.days * 24 * 60 * 60 * 1000).toISOString(),\n          department: department\n        });\n      }\n    });\n  }\n\n  return { requests, tracking };\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}